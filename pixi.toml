# Pixi environment for analyzer-tools
# Provides Mantid + lr_reduction via conda, everything else via pip.

[project]
name = "analyzer-tools"
channels = ["conda-forge", "mantid", "neutrons"]
platforms = ["linux-64"]

# ---------- Conda dependencies ----------
[dependencies]
python = ">=3.11,<3.13"
mantid = ">=6.14.0,<6.15"
pip = "*"
# Qt backend needed by Mantid's framework internals
matplotlib = ">=3.8"
pyqt = ">=5,<6"
qtpy = ">=2.4"

# ---------- PyPI dependencies ----------
[pypi-dependencies]
lr_reduction = { git = "https://github.com/neutrons/LiquidsReflectometer.git", branch = "next" }

# ---------- Tasks ----------
[tasks]
test = { cmd = "python -m pytest tests/ -v --tb=short", description = "Run analyzer-tools test suite" }
mcp = { cmd = "analyzer-mcp", description = "Start the MCP server" }
tools = { cmd = "analyzer-tools --list-tools", description = "List available tools" }
